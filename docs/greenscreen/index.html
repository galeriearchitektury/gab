<!-- source https://redstapler.co/realtime-video-processing-javascript-tutorial/ -->

<!-- <h3>Background</h3>
<p>
    The ImageCapture Web API allows web developers to capture images from camera
    in the form of a Blob with <code>takePhoto()</code> or as a ImageBitmap with
    <code>grabFrame()</code>.
</p> -->
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="../js/greenscreen-variant-a.mjs" type="module"></script>
<script src="../js/greenscreen.mjs" type="module"></script>
<script src="../js/greenscreen-main.mjs" type="module"></script>

<div id="wrapper">
    <div id="content">
        <video playsinline autoplay id="video"></video>
        <canvas id="output-canvas"></canvas>
        <span id="spinner"></span>
        <img id="preview" />
    </div>
    <div id="ui">
        <button id="snap">Vyfoť</button>
        <button id="redo" disabled>Znovu</button>
        <button id="save" disabled>Sdílej</button>
        <!-- <button id="controlsBtn">Controls</button>
        <button id="ar">AR</button> -->
        <button id="previous">←</button>
        <button id="next">→</button>
    </div>
</div>

<div id="controls">
    <span id="width"></span>
    <span id="height"></span>
    <span id="videowidth"></span>
    <span id="videoheight"></span>

    <div style="display: flex; flex-direction: row; flex-wrap: wrap">
        <div>
            <div>
                <input type="range" max="255" value="33" id="r-color" />
                <label for="r-color">Red - </label>
                <label id="r-value">33</label>
            </div>
            <div>
                <input type="range" max="255" value="86" id="g-color" />
                <label for="g-color">Green - </label>
                <label id="g-value">86</label>
            </div>
            <div>
                <input type="range" max="255" value="156" id="b-color" />
                <label for="b-color">Blue - </label>
                <label id="b-value">156</label>
            </div>
        </div>

        <div>
            <div>
                <input type="range" max="255" value="65" id="r-range" />
                <label for="r-range">Red range - </label>
                <label id="r-range-value">65</label>
            </div>
            <div>
                <input type="range" max="255" value="64" id="g-range" />
                <label for="g-color">Green range - </label>
                <label id="g-range-value">64</label>
            </div>
            <div>
                <input type="range" max="255" value="77" id="b-range" />
                <label for="b-color">Blue range - </label>
                <label id="b-range-value">77</label>
            </div>
        </div>
    </div>
    <div id="color-sample"></div>
</div>

<link rel="stylesheet" href="../css/greenscreen.css" />